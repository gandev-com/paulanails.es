---
interface Props {
  spacing?: "sm" | "md" | "lg";
  variant?: "default" | "sakura";
}

const { spacing = "md", variant = "sakura" } = Astro.props;

const spacingClasses = {
  sm: "my-8 md:my-10",
  md: "my-12 md:my-16",
  lg: "my-16 md:my-24",
};
---

<div class={`separator-wrapper ${spacingClasses[spacing]}`}>
  {variant === "sakura" ? (
    <div class="sakura-separator">
      <div class="separator-line left"></div>
      <div class="sakura-icon">
        <svg width="32" height="32" viewBox="0 0 40 40" fill="none">
          <path
            d="M20 5C20 5 15 10 15 15C15 17.761 17.239 20 20 20C22.761 20 25 17.761 25 15C25 10 20 5 20 5Z"
            fill="currentColor"
          />
          <path
            d="M20 35C20 35 25 30 25 25C25 22.239 22.761 20 20 20C17.239 20 15 22.239 15 25C15 30 20 35 20 35Z"
            fill="currentColor"
          />
          <path
            d="M5 20C5 20 10 15 15 15C17.761 15 20 17.239 20 20C20 22.761 17.761 25 15 25C10 25 5 20 5 20Z"
            fill="currentColor"
          />
          <path
            d="M35 20C35 20 30 25 25 25C22.239 25 20 22.761 20 20C20 17.239 22.239 15 25 15C30 15 35 20 35 20Z"
            fill="currentColor"
          />
        </svg>
      </div>
      <div class="separator-line right"></div>
    </div>
  ) : (
    <div class="default-separator">
      <div class="separator-line full"></div>
    </div>
  )}
</div>

<style>
  .separator-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    padding: 0 2rem;
  }

  .sakura-separator {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 600px;
    gap: 1.5rem;
  }

  .separator-line {
    flex: 1;
    height: 1px;
    position: relative;
  }

  .separator-line.left,
  .separator-line.right {
    background: linear-gradient(
      to right,
      transparent,
      var(--pink-dark) 50%,
      transparent
    );
  }

  .separator-line.left {
    background: linear-gradient(
      to right,
      transparent,
      var(--pink-dark)
    );
  }

  .separator-line.right {
    background: linear-gradient(
      to left,
      transparent,
      var(--pink-dark)
    );
  }

  .separator-line.full {
    background: linear-gradient(
      to right,
      transparent,
      var(--separator),
      transparent
    );
  }

  .sakura-icon {
    flex-shrink: 0;
    color: var(--pink-dark);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.7;
  }

  .default-separator {
    width: 100%;
    max-width: 600px;
  }

  @media (max-width: 768px) {
    .separator-wrapper {
      padding: 0 1rem;
    }

    .sakura-separator {
      max-width: 100%;
      gap: 1rem;
    }

    .sakura-icon svg {
      width: 24px;
      height: 24px;
    }
  }
</style>
